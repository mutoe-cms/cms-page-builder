var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(i)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}const u="undefined"!=typeof window;let a=u?()=>window.performance.now():()=>Date.now(),d=u?t=>requestAnimationFrame(t):t;const f=new Set;function m(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&d(m)}function p(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function $(){return v("")}function w(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e,n){e in t?t[e]=n:x(t,e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}const _=new Set;let S,L=0;function q(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),L-=o,L||d((()=>{L||(_.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),_.clear())})))}function M(n,i,o,l){if(!i)return t;const s=n.getBoundingClientRect();if(i.left===s.left&&i.right===s.right&&i.top===s.top&&i.bottom===s.bottom)return t;const{delay:r=0,duration:c=300,easing:u=e,start:p=a()+r,end:h=p+c,tick:g=t,css:v}=o(n,{from:i,to:s},l);let y,$=!0,w=!1;function x(){v&&q(n,y),$=!1}return function(t){let e;0===f.size&&d(m),new Promise((n=>{f.add(e={c:t,f:n})}))}((t=>{if(!w&&t>=p&&(w=!0),w&&t>=h&&(g(1,0),x()),!$)return!1;if(w){const e=0+1*u((t-p)/c);g(e,1-e)}return!0})),v&&(y=function(t,e,n,i,o,l,s,r=0){const c=16.666/i;let u="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*l(t);u+=100*t+`%{${s(i,1-i)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${r}`,f=t.ownerDocument;_.add(f);const m=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(b("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,m.insertRule(`@keyframes ${d} ${a}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${i}ms linear ${o}ms 1 both`,L+=1,d}(n,0,1,c,r,u,v)),r||(w=!0),g(0,1),x}function H(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:i}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),o="none"===i.transform?"":i.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,o)}}function C(t){S=t}function E(){if(!S)throw new Error("Function called outside component initialization");return S}function O(t){E().$$.on_mount.push(t)}function I(){const t=E();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,o)}))}}}const N=[],R=[],j=[],A=[],z=Promise.resolve();let D=!1;function J(){D||(D=!0,z.then(Y))}function P(t){j.push(t)}let B=!1;const W=new Set;function Y(){if(!B){B=!0;do{for(let t=0;t<N.length;t+=1){const e=N[t];C(e),X(e.$$)}for(C(null),N.length=0;R.length;)R.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];W.has(e)||(W.add(e),e())}j.length=0}while(N.length);for(;A.length;)A.pop()();D=!1,B=!1,W.clear()}}function X(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const F=new Set;let G;function U(){G={r:0,c:[],p:G}}function Z(){G.r||l(G.c),G=G.p}function K(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Q(t,e,n,i){if(t&&t.o){if(F.has(t))return;F.add(t),G.c.push((()=>{F.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const V="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function tt(t,e){t.d(1),e.delete(t.key)}function et(t,e){t.f(),function(t,e){Q(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function nt(t,e,n,i,o,l,s,r,c,u,a,d){let f=t.length,m=l.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const g=[],b=new Map,v=new Map;for(p=m;p--;){const t=d(o,l,p),r=n(t);let c=s.get(r);c?i&&c.p(t,e):(c=u(r,t),c.c()),b.set(r,g[p]=c),r in h&&v.set(r,Math.abs(p-h[r]))}const y=new Set,$=new Set;function w(t){K(t,1),t.m(r,a),s.set(t.key,t),a=t.first,m--}for(;f&&m;){const e=g[m-1],n=t[f-1],i=e.key,o=n.key;e===n?(a=e.first,f--,m--):b.has(o)?!s.has(i)||y.has(i)?w(e):$.has(o)?f--:v.get(i)>v.get(o)?($.add(i),w(e)):(y.add(o),f--):(c(n,s),f--)}for(;f--;){const e=t[f];b.has(e.key)||c(e,s)}for(;m;)w(g[m-1]);return g}function it(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const s=t[l],r=e[l];if(r){for(const t in s)t in r||(i[t]=1);for(const t in r)o[t]||(n[t]=r[t],o[t]=1);t[l]=r}else for(const t in s)o[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function ot(t){return"object"==typeof t&&null!==t?t:{}}function lt(t){t&&t.c()}function st(t,e,n){const{fragment:o,on_mount:r,on_destroy:c,after_update:u}=t.$$;o&&o.m(e,n),P((()=>{const e=r.map(i).filter(s);c?c.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(P)}function rt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(e,n,i,s,r,c,u=[-1]){const a=S;C(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let m=!1;if(f.ctx=i?i(e,d,((t,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&function(t,e){-1===t.$$.dirty[0]&&(N.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),m=!0,l(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(g)}else f.fragment&&f.fragment.c();n.intro&&K(e.$$.fragment),st(e,n.target,n.anchor),Y()}C(a)}class ut{$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function at(t){const e=t-1;return e*e*e+1}function dt(t,e,n){const i=getComputedStyle(t),o="none"===i.transform?"":i.transform,l=e.from.width/t.clientWidth,r=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/l,u=(e.from.top-e.to.top)/r,a=Math.sqrt(c*c+u*u),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:m=at}=n;return{delay:d,duration:s(f)?f(a):f,easing:m,css:(t,e)=>`transform: ${o} translate(${e*c}px, ${e*u}px);`}}const ft={id:"ux7d65ic8f",sections:[{id:"d74dlnwmuy4",type:"full-width",module:{id:"92n3udn8f",type:"full-width-header",title:"Lorem ipsum",subTitle:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",body:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad aut debitis dicta exercitationem expedita laudantium magni modi molestiae necessitatibus nisi nobis non, praesentium reiciendis, repellat suscipit ut velit voluptas.",button1:{text:"Goto"},button2:{text:"Link",link:"https://google.com"},style:{backgroundColor:"#c4a000"}}},{id:"0p0yuehcmuq",type:"full-width",module:{id:"lsd8cksjd",type:"full-width-header",title:"标题 Lorem ipsum",subTitle:"副标题 Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",body:"正文 Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad aut debitis dicta exercitationem expedita laudantium magni modi molestiae necessitatibus nisi nobis non, praesentium reiciendis, repellat suscipit ut velit voluptas.",button1:{text:"按钮"},button2:{text:"链接",link:"https://google.com"},style:{backgroundColor:"#7ebec5"}}},{id:"dn38wanlnfj",type:"full-width",module:{id:"89vj2j28d",type:"full-width-header",title:"Lorem ipsum",subTitle:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",body:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad aut debitis dicta exercitationem expedita laudantium magni modi molestiae necessitatibus nisi nobis non, praesentium reiciendis, repellat suscipit ut velit voluptas.",button1:{text:"Goto"},button2:{text:"Link",link:"https://google.com"},style:{backgroundColor:"#6c2eb9"}}}]},mt=[];function pt(e,n=t){let i;const o=[];function l(t){if(r(e,t)&&(e=t,i)){const t=!mt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,r=t){const c=[s,r];return o.push(c),1===o.length&&(i=n(l)||t),s(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}const ht=pt(null),gt=pt(null),bt=pt({section:null,isTop:!0}),vt=pt(!1),yt=pt(null),$t=(t,e)=>{let n=null,i=!0;return function(){if(i)return t.apply(this,arguments),void(i=!1);n||(n=setTimeout((()=>{clearTimeout(n),n=null,t.apply(this,arguments)}),e))}},wt=(t={})=>{const e=["line-height","z-index","order","opacity"];return Object.entries(t).filter((([t,e])=>e||0===e)).map((([t,n])=>(t=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase())),"number"!=typeof n||0===n||e.includes(t)||(n+="px"),`${t}:${n}`))).join(";")};const xt=new Proxy({modalPosition:null},{get:function(t,e){var n;if(!(e in t))throw new Error(String(e)+" is not in store");return JSON.parse(null!==(n=localStorage.getItem(String(e)))&&void 0!==n?n:"null")},set:function(t,e,n){if(!(e in t))throw new Error(String(e)+" is not in store}");return localStorage.setItem(String(e),JSON.stringify(n)),!0}}),{window:Tt}=V;function kt(t,e,n){const i=t.slice();return i[18]=e[n],i[20]=n,i}function _t(t,e,n){const i=t.slice();return i[18]=e[n],i[20]=n,i}function St(t,e){let n,i,o,l,s,r,c,u,a=e[18].title+"";function d(...t){return e[11](e[20],...t)}return{key:t,first:null,c(){n=b("button"),i=v(a),x(n,"role","tab"),x(n,"id",o="tab-"+e[20]),x(n,"aria-controls",l="panel-"+e[20]),x(n,"aria-selected",s=e[20]===e[0]),x(n,"tabindex",r=e[20]===e[0]?-1:0),x(n,"class","svelte-154qm3l"),this.first=n},m(t,e){h(t,n,e),p(n,i),c||(u=w(n,"click",d),c=!0)},p(t,i){e=t,1&i&&s!==(s=e[20]===e[0])&&x(n,"aria-selected",s),1&i&&r!==(r=e[20]===e[0]?-1:0)&&x(n,"tabindex",r)},d(t){t&&g(n),c=!1,u()}}}function Lt(t,e){let n,i,o,l,s,r,c,u,a,d,f,m,$=e[18].content+"",w=JSON.stringify(e[2])+"",T=JSON.stringify(e[3])+"";return{key:t,first:null,c(){n=b("div"),i=v($),o=y(),l=v(w),s=y(),r=b("hr"),c=y(),u=v(T),a=y(),x(n,"role","tabpanel"),x(n,"aria-labelledby",d="tab-"+e[20]),x(n,"id",f="panel-"+e[20]),x(n,"tabindex","0"),n.hidden=m=e[20]!==e[0],x(n,"class","svelte-154qm3l"),this.first=n},m(t,e){h(t,n,e),p(n,i),p(n,o),p(n,l),p(n,s),p(n,r),p(n,c),p(n,u),p(n,a)},p(t,e){4&e&&w!==(w=JSON.stringify(t[2])+"")&&k(l,w),8&e&&T!==(T=JSON.stringify(t[3])+"")&&k(u,T),1&e&&m!==(m=t[20]!==t[0])&&(n.hidden=m)},d(t){t&&g(n)}}}function qt(e){let n,i,o,s,r,c,u,a,d,f,m,v,$,T,k,_,S,L,q,M,H=[],C=new Map,E=[],O=new Map,I=e[4];const N=t=>t[18].title;for(let t=0;t<I.length;t+=1){let n=_t(e,I,t),i=N(n);C.set(i,H[t]=St(i,n))}let R=e[4];const j=t=>t[18].title;for(let t=0;t<R.length;t+=1){let n=kt(e,R,t),i=j(n);O.set(i,E[t]=Lt(i,n))}return{c(){n=b("div"),i=b("header"),i.innerHTML='<h2 class="svelte-154qm3l">Section Settings</h2>',o=y(),s=b("div");for(let t=0;t<H.length;t+=1)H[t].c();r=y(),c=b("div");for(let t=0;t<E.length;t+=1)E[t].c();u=y(),a=b("div"),d=b("button"),d.innerHTML='<ion-icon name="close-outline"></ion-icon>',f=y(),m=b("button"),m.innerHTML='<ion-icon name="arrow-undo"></ion-icon>',v=y(),$=b("button"),$.innerHTML='<ion-icon name="arrow-redo"></ion-icon>',T=y(),k=b("button"),k.innerHTML='<ion-icon name="checkmark-outline"></ion-icon>',_=y(),S=b("button"),S.innerHTML='<ion-icon name="resize-outline" class="svelte-154qm3l"></ion-icon>',x(i,"class","svelte-154qm3l"),x(s,"role","tablist"),x(s,"aria-label","Tabs"),x(s,"class","svelte-154qm3l"),x(c,"class","tabs svelte-154qm3l"),x(d,"aria-label","Close modal"),x(d,"class","close svelte-154qm3l"),x(d,"title","Close"),x(m,"aria-label","Undo"),x(m,"class","undo svelte-154qm3l"),x(m,"title","Undo"),x($,"aria-label","Redo"),x($,"class","redo svelte-154qm3l"),x($,"title","Redo"),x(k,"aria-label","Save"),x(k,"class","save svelte-154qm3l"),x(k,"title","Save"),x(a,"class","button-group svelte-154qm3l"),x(S,"class","resize-handle svelte-154qm3l"),x(n,"class","modal svelte-154qm3l"),x(n,"role","dialog"),x(n,"aria-label","Modal"),x(n,"aria-modal","true"),x(n,"style",L=wt(e[2]))},m(t,l){h(t,n,l),p(n,i),p(n,o),p(n,s);for(let t=0;t<H.length;t+=1)H[t].m(s,null);p(n,r),p(n,c);for(let t=0;t<E.length;t+=1)E[t].m(c,null);p(n,u),p(n,a),p(a,d),p(a,f),p(a,m),p(a,v),p(a,$),p(a,T),p(a,k),p(n,_),p(n,S),e[12](n),q||(M=[w(Tt,"keydown",e[6]),w(Tt,"mousemove",e[9]),w(Tt,"mouseup",e[10]),w(i,"mousedown",e[7]),w(d,"click",e[5]),w(S,"mousedown",e[8])],q=!0)},p(t,[e]){if(17&e){const n=t[4];H=nt(H,e,N,1,t,n,C,s,tt,St,null,_t)}if(29&e){const n=t[4];E=nt(E,e,j,1,t,n,O,c,tt,Lt,null,kt)}4&e&&L!==(L=wt(t[2]))&&x(n,"style",L)},i:t,o:t,d(t){t&&g(n);for(let t=0;t<H.length;t+=1)H[t].d();for(let t=0;t<E.length;t+=1)E[t].d();e[12](null),q=!1,l(M)}}}function Mt(t,e,n){let i;c(t,ht,(t=>n(3,i=t)));var o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,l){function s(t){try{c(i.next(t))}catch(t){l(t)}}function r(t){try{c(i.throw(t))}catch(t){l(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}c((i=i.apply(t,e||[])).next())}))};let l=0;const s=I(),r=()=>s("close");let u,a=!1,d=!1;const f={};O((()=>{const t=xt.modalPosition||getComputedStyle(u);n(2,f.left=parseInt(String(t.left)),f),n(2,f.top=parseInt(String(t.top)),f),n(2,f.width=parseInt(String(t.width)),f),n(2,f.height=parseInt(String(t.height)),f),m()}));const m=(t={})=>o(void 0,void 0,void 0,(function*(){var e,i;const o=function(){const t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),l=getComputedStyle(u),s=parseInt(l.width),r=parseInt(l.height);a=!1,d=!1,t.target!==document&&(null===(i=null===(e=t.target)||void 0===e?void 0:e.closest)||void 0===i?void 0:i.call(e,".modal"))!==u||(n(2,f.transition="all .1s ease-out",f),setTimeout((()=>{n(2,f.transition=void 0,f),xt.modalPosition=f}),100),yield(J(),z)),f.width<400?n(2,f.width=400,f):f.width>window.innerWidth-o&&n(2,f.width=window.innerWidth-o,f),f.height<300?n(2,f.height=300,f):f.height>window.innerHeight&&n(2,f.height=window.innerHeight,f),f.left+t.movementX<0?n(2,f.left=0,f):f.left+t.movementX+s>window.innerWidth-o&&n(2,f.left=window.innerWidth-s-o,f),f.top+t.movementY<0?n(2,f.top=0,f):f.top+t.movementY+r>window.innerHeight&&n(2,f.top=window.innerHeight-r,f)}));return[l,u,f,i,[{title:"First",content:"First panel"},{title:"Second",content:"Second panel"},{title:"Third",content:"Third panel"}],r,t=>{if("Escape"===t.key)return r()},()=>a=!0,()=>d=!0,t=>{a?(n(2,f.left+=t.movementX,f),n(2,f.top+=t.movementY,f)):d&&(n(2,f.width+=t.movementX,f),n(2,f.height+=t.movementY,f))},m,t=>n(0,l=t),function(t){R[t?"unshift":"push"]((()=>{u=t,n(1,u)}))}]}class Ht extends ut{constructor(t){super(),ct(this,t,Mt,qt,r,{})}}function Ct(t){let e,n;return e=new Ht({props:{$$slots:{default:[Et]},$$scope:{ctx:t}}}),e.$on("close",t[5]),{c(){lt(e.$$.fragment)},m(t,i){st(e,t,i),n=!0},p(t,n){const i={};32769&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function Et(t){let e,n,i,o,l,s,r,c=t[0].id+"",u=t[0].id+"";return{c(){e=v("You selected section "),n=v(c),i=v("\n      ("),o=b("a"),l=v(u),r=v(")"),x(o,"href",s="#section-"+t[0].id)},m(t,s){h(t,e,s),h(t,n,s),h(t,i,s),h(t,o,s),p(o,l),h(t,r,s)},p(t,e){1&e&&c!==(c=t[0].id+"")&&k(n,c),1&e&&u!==(u=t[0].id+"")&&k(l,u),1&e&&s!==(s="#section-"+t[0].id)&&x(o,"href",s)},d(t){t&&g(e),t&&g(n),t&&g(i),t&&g(o),t&&g(r)}}}function Ot(t){let e,n,i,o,s,r,c,u,a,d,f,m,v,T,k,_,S,L,q,M,H,C,E=t[3]&&Ct(t);return{c(){e=b("div"),n=b("div"),i=y(),o=b("div"),s=b("button"),s.innerHTML='<ion-icon name="move-sharp"></ion-icon>',r=y(),c=b("button"),c.innerHTML='<ion-icon name="settings-sharp"></ion-icon>',u=y(),a=b("button"),a.innerHTML='<ion-icon name="duplicate-sharp"></ion-icon>',d=y(),f=b("button"),f.innerHTML='<ion-icon name="trash-sharp"></ion-icon>',m=y(),v=b("button"),v.innerHTML='<ion-icon name="add-sharp"></ion-icon>',k=y(),_=b("div"),L=y(),E&&E.c(),q=$(),x(n,"class","border svelte-y0mrqi"),x(s,"aria-label","Handle"),x(s,"class","move svelte-y0mrqi"),x(s,"draggable","true"),x(c,"aria-label","Settings"),x(c,"class","settings svelte-y0mrqi"),x(a,"aria-label","Duplicate section"),x(a,"class","duplicate svelte-y0mrqi"),x(f,"aria-label","Delete section"),x(f,"class","delete svelte-y0mrqi"),x(o,"class","section-menu svelte-y0mrqi"),x(v,"aria-label","Add section"),x(v,"class","add-section svelte-y0mrqi"),x(e,"class","section-operator svelte-y0mrqi"),x(e,"style",T=wt(t[1])),x(_,"class","drag-over-placeholder svelte-y0mrqi"),x(_,"style",S=wt({...t[2],height:It+"px"}))},m(l,g){h(l,e,g),p(e,n),p(e,i),p(e,o),p(o,s),p(o,r),p(o,c),p(o,u),p(o,a),p(o,d),p(o,f),p(e,m),p(e,v),h(l,k,g),h(l,_,g),h(l,L,g),E&&E.m(l,g),h(l,q,g),M=!0,H||(C=[w(s,"dragend",t[9]),w(s,"dragstart",t[8]),w(c,"click",t[4]),w(a,"click",t[6]),w(f,"click",t[7])],H=!0)},p(t,[n]){(!M||2&n&&T!==(T=wt(t[1])))&&x(e,"style",T),(!M||4&n&&S!==(S=wt({...t[2],height:It+"px"})))&&x(_,"style",S),t[3]?E?(E.p(t,n),8&n&&K(E,1)):(E=Ct(t),E.c(),K(E,1),E.m(q.parentNode,q)):E&&(U(),Q(E,1,1,(()=>{E=null})),Z())},i(t){M||(K(E),M=!0)},o(t){Q(E),M=!1},d(t){t&&g(e),t&&g(k),t&&g(_),t&&g(L),E&&E.d(t),t&&g(q),H=!1,l(C)}}}const It=48;function Nt(t,e,n){let i,o,l,s;c(t,yt,(t=>n(10,i=t))),c(t,vt,(t=>n(3,o=t))),c(t,gt,(t=>n(11,l=t))),c(t,ht,(t=>n(12,s=t)));var r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,l){function s(t){try{c(i.next(t))}catch(t){l(t)}}function r(t){try{c(i.throw(t))}catch(t){l(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}c((i=i.apply(t,e||[])).next())}))};let u=i.sections[0];let a={top:"0",height:"0",opacity:"0"},d={top:"0",opacity:"0"};ht.subscribe((t=>{if(o)return;if(!t||l)return n(1,a={});n(0,u=t),n(2,d={});const e=document.querySelector("#section-"+t.id);n(1,a={top:e.offsetTop+"px",height:e.offsetHeight+"px",opacity:e?"1":"0"})})),bt.subscribe((({section:t,isTop:e})=>{if(!t||!l)return n(2,d={});const i=document.querySelector("#section-"+t.id);let o=i.offsetTop;e||(o+=i.offsetHeight-It),n(2,d={top:o+"px",opacity:"1"})}));const f=I();return[u,a,d,o,function(){vt.set(!0)},function(){vt.set(!1),n(0,u=null)},function(){yt.update((t=>{const e=t.sections.findIndex((t=>t.id===(null==s?void 0:s.id)));if(-1===e)return t;let n=(i=t.sections[e],JSON.parse(JSON.stringify(i)));var i;return n.id=Math.abs(Math.sin((new Date).getTime())).toString(36).slice(2),t.sections.splice(e,0,n),t}))},function(){yt.update((t=>{const e=t.sections.findIndex((t=>t.id===(null==s?void 0:s.id)));return-1===e||(t.sections.splice(e,1),n(1,a={})),t}))},function(t){return r(this,void 0,void 0,(function*(){let e=document.querySelector("#section-"+(null==s?void 0:s.id));if(!e)return;const n=e.getBoundingClientRect().top+document.documentElement.scrollTop,i=e.getBoundingClientRect().left+document.documentElement.scrollLeft,o=t.pageY-n,l=t.pageX-i;t.dataTransfer.setDragImage(e,l,o),setTimeout((()=>{f("dragstart",s)}))}))},function(){f("dragend")}]}class Rt extends ut{constructor(t){super(),ct(this,t,Nt,Ot,r,{})}}function jt(t){let e,n,i,o;return{c(){e=b("button"),n=v(t[0]),i=y(),o=b("ion-icon"),T(o,"name","chevron-forward-outline"),T(o,"class","svelte-gx52e0"),x(e,"class","button svelte-gx52e0")},m(t,l){h(t,e,l),p(e,n),p(e,i),p(e,o)},p(t,e){1&e&&k(n,t[0])},d(t){t&&g(e)}}}function At(t){let e,n,i,o;return{c(){e=b("a"),n=v(t[0]),i=y(),o=b("ion-icon"),T(o,"name","chevron-forward-outline"),T(o,"class","svelte-gx52e0"),x(e,"class","button svelte-gx52e0"),x(e,"href",t[1])},m(t,l){h(t,e,l),p(e,n),p(e,i),p(e,o)},p(t,i){1&i&&k(n,t[0]),2&i&&x(e,"href",t[1])},d(t){t&&g(e)}}}function zt(e){let n;function i(t,e){return t[1]?At:jt}let o=i(e),l=o(e);return{c(){l.c(),n=$()},m(t,e){l.m(t,e),h(t,n,e)},p(t,[e]){o===(o=i(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n.parentNode,n)))},i:t,o:t,d(t){l.d(t),t&&g(n)}}}function Dt(t,e,n){let{text:i}=e,{link:o}=e;return t.$$set=t=>{"text"in t&&n(0,i=t.text),"link"in t&&n(1,o=t.link)},[i,o]}class Jt extends ut{constructor(t){super(),ct(this,t,Dt,zt,r,{text:0,link:1})}}function Pt(t){let e,n,i,o=t[0].title+"";return{c(){e=b("h2"),x(e,"contenteditable","true"),x(e,"class","svelte-1mkvvzv")},m(l,s){h(l,e,s),e.innerHTML=o,n||(i=w(e,"blur",t[2]),n=!0)},p(t,n){1&n&&o!==(o=t[0].title+"")&&(e.innerHTML=o)},d(t){t&&g(e),n=!1,i()}}}function Bt(t){let e,n,i,o=t[0].subTitle+"";return{c(){e=b("h3"),x(e,"contenteditable","true")},m(l,s){h(l,e,s),e.innerHTML=o,n||(i=w(e,"blur",t[3]),n=!0)},p(t,n){1&n&&o!==(o=t[0].subTitle+"")&&(e.innerHTML=o)},d(t){t&&g(e),n=!1,i()}}}function Wt(t){let e,n,i,o=t[0].body+"";return{c(){e=b("div"),x(e,"class","body svelte-1mkvvzv"),x(e,"contenteditable","true")},m(l,s){h(l,e,s),e.innerHTML=o,n||(i=w(e,"blur",t[4]),n=!0)},p(t,n){1&n&&o!==(o=t[0].body+"")&&(e.innerHTML=o)},d(t){t&&g(e),n=!1,i()}}}function Yt(t){let e,i;const o=[t[0].button1];let l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return e=new Jt({props:l}),{c(){lt(e.$$.fragment)},m(t,n){st(e,t,n),i=!0},p(t,n){const i=1&n?it(o,[ot(t[0].button1)]):{};e.$set(i)},i(t){i||(K(e.$$.fragment,t),i=!0)},o(t){Q(e.$$.fragment,t),i=!1},d(t){rt(e,t)}}}function Xt(t){let e,i;const o=[t[0].button2];let l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return e=new Jt({props:l}),{c(){lt(e.$$.fragment)},m(t,n){st(e,t,n),i=!0},p(t,n){const i=1&n?it(o,[ot(t[0].button2)]):{};e.$set(i)},i(t){i||(K(e.$$.fragment,t),i=!0)},o(t){Q(e.$$.fragment,t),i=!1},d(t){rt(e,t)}}}function Ft(t){let e,n,i,o,l,s,r,c,u=t[0].title&&Pt(t),a=t[0].subTitle&&Bt(t),d=t[0].body&&Wt(t),f=t[0].button1&&Yt(t),m=t[0].button2&&Xt(t);return{c(){e=b("div"),n=b("div"),u&&u.c(),i=y(),a&&a.c(),o=y(),d&&d.c(),l=y(),f&&f.c(),s=y(),m&&m.c(),x(n,"class","full-width-container"),x(e,"class","full-width-header svelte-1mkvvzv"),x(e,"style",r=wt(t[0].style))},m(t,r){h(t,e,r),p(e,n),u&&u.m(n,null),p(n,i),a&&a.m(n,null),p(n,o),d&&d.m(n,null),p(n,l),f&&f.m(n,null),p(n,s),m&&m.m(n,null),c=!0},p(t,[p]){t[0].title?u?u.p(t,p):(u=Pt(t),u.c(),u.m(n,i)):u&&(u.d(1),u=null),t[0].subTitle?a?a.p(t,p):(a=Bt(t),a.c(),a.m(n,o)):a&&(a.d(1),a=null),t[0].body?d?d.p(t,p):(d=Wt(t),d.c(),d.m(n,l)):d&&(d.d(1),d=null),t[0].button1?f?(f.p(t,p),1&p&&K(f,1)):(f=Yt(t),f.c(),K(f,1),f.m(n,s)):f&&(U(),Q(f,1,1,(()=>{f=null})),Z()),t[0].button2?m?(m.p(t,p),1&p&&K(m,1)):(m=Xt(t),m.c(),K(m,1),m.m(n,null)):m&&(U(),Q(m,1,1,(()=>{m=null})),Z()),(!c||1&p&&r!==(r=wt(t[0].style)))&&x(e,"style",r)},i(t){c||(K(f),K(m),c=!0)},o(t){Q(f),Q(m),c=!1},d(t){t&&g(e),u&&u.d(),a&&a.d(),d&&d.d(),f&&f.d(),m&&m.d()}}}function Gt(t,e,n){let{module:i}=e;const o=(t,e)=>{n(0,i[t]=e.replace(/(?:^(\s|<br>)+|(\s|<br>)+$)/g,""),i),ht.update((t=>t))};return t.$$set=t=>{"module"in t&&n(0,i=t.module)},[i,o,t=>o("title",t.target.innerHTML),t=>o("subTitle",t.target.innerHTML),t=>o("body",t.target.innerHTML)]}class Ut extends ut{constructor(t){super(),ct(this,t,Gt,Ft,r,{module:0})}}function Zt(e){let n,i,o="full-width-header"===e[0].type&&function(e){let n,i;return n=new Ut({props:{module:e[0]}}),{c(){lt(n.$$.fragment)},m(t,e){st(n,t,e),i=!0},p:t,i(t){i||(K(n.$$.fragment,t),i=!0)},o(t){Q(n.$$.fragment,t),i=!1},d(t){rt(n,t)}}}(e);return{c(){o&&o.c(),n=$()},m(t,e){o&&o.m(t,e),h(t,n,e),i=!0},p(t,[e]){"full-width-header"===t[0].type&&o.p(t,e)},i(t){i||(K(o),i=!0)},o(t){Q(o),i=!1},d(t){o&&o.d(t),t&&g(n)}}}function Kt(t,e,n){let{section:i}=e;const o=i.module;return t.$$set=t=>{"section"in t&&n(1,i=t.section)},[o,i]}class Qt extends ut{constructor(t){super(),ct(this,t,Kt,Zt,r,{section:1})}}function Vt(t,e,n){const i=t.slice();return i[10]=e[n],i}function te(t){let e,n;return e=new Qt({props:{section:t[10]}}),{c(){lt(e.$$.fragment)},m(t,i){st(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.section=t[10]),e.$set(i)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function ee(e,n){let i,o,l,s,r,c,u,a=t,d="full-width"===n[10].type&&te(n);function f(...t){return n[5](n[10],...t)}return{key:e,first:null,c(){i=b("section"),d&&d.c(),o=y(),x(i,"id",l="section-"+n[10].id),this.first=i},m(t,e){h(t,i,e),d&&d.m(i,null),p(i,o),r=!0,c||(u=w(i,"mouseenter",f),c=!0)},p(t,e){"full-width"===(n=t)[10].type?d?(d.p(n,e),1&e&&K(d,1)):(d=te(n),d.c(),K(d,1),d.m(i,o)):d&&(U(),Q(d,1,1,(()=>{d=null})),Z()),(!r||1&e&&l!==(l="section-"+n[10].id))&&x(i,"id",l)},r(){s=i.getBoundingClientRect()},f(){H(i),a()},a(){a(),a=M(i,s,dt,{duration:n[6],delay:100})},i(t){r||(K(d),r=!0)},o(t){Q(d),r=!1},d(t){t&&g(i),d&&d.d(),c=!1,u()}}}function ne(t){let e,n,i,o,l,s,r,c,u=[],a=new Map,d=t[0].sections;const f=t=>t[10].id;for(let e=0;e<d.length;e+=1){let n=Vt(t,d,e),i=f(n);a.set(i,u[e]=ee(i,n))}return o=new Rt({}),o.$on("dragend",t[3]),o.$on("dragstart",t[2]),{c(){e=b("div"),n=b("div");for(let t=0;t<u.length;t+=1)u[t].c();i=y(),lt(o.$$.fragment),x(n,"class","section-container"),x(e,"class","page-builder svelte-vq2kbi"),x(e,"spellcheck",l=!1)},m(l,a){h(l,e,a),p(e,n);for(let t=0;t<u.length;t+=1)u[t].m(n,null);p(e,i),st(o,e,null),s=!0,r||(c=w(n,"dragover",$t(t[4],100)),r=!0)},p(t,[e]){if(3&e){const i=t[0].sections;U();for(let t=0;t<u.length;t+=1)u[t].r();u=nt(u,e,f,1,t,i,a,n,et,ee,null,Vt);for(let t=0;t<u.length;t+=1)u[t].a();Z()}},i(t){if(!s){for(let t=0;t<d.length;t+=1)K(u[t]);K(o.$$.fragment,t),s=!0}},o(t){for(let t=0;t<u.length;t+=1)Q(u[t]);Q(o.$$.fragment,t),s=!1},d(t){t&&g(e);for(let t=0;t<u.length;t+=1)u[t].d();rt(o),r=!1,c()}}}function ie(t,e,n){let i,o,l,s;function r(t){i||ht.set(t)}c(t,vt,(t=>n(7,i=t))),c(t,yt,(t=>n(0,o=t))),c(t,bt,(t=>n(8,l=t))),c(t,gt,(t=>n(9,s=t))),yt.set(ft),O((()=>{document.addEventListener("dragover",(t=>{t.preventDefault()}))}));return[o,r,function(t){const e=o.sections.findIndex((e=>e===t.detail));gt.set(o.sections[e]),ht.set(null),yt.update((t=>(t.sections.splice(e,1),t)))},function(t){t.preventDefault();let e=o.sections.findIndex((t=>t.id===l.section.id));l.isTop||(e+=1),yt.update((t=>(t.sections.splice(e,0,s),t))),gt.set(null)},function(t){var e,n;const i=null===(e=t.target)||void 0===e?void 0:e.closest("section");if(!i)return;const l=i.offsetTop+i.offsetHeight/2,s=t.clientY<l,r=null==i?void 0:i.id.replace(/^section-/,""),c=null!==(n=o.sections.find((t=>t.id===r)))&&void 0!==n?n:null;bt.set({section:c,isTop:s})},t=>r(t),t=>10*Math.sqrt(t)]}class oe extends ut{constructor(t){super(),ct(this,t,ie,ne,r,{})}}function le(e){let n,i;return n=new oe({}),{c(){lt(n.$$.fragment)},m(t,e){st(n,t,e),i=!0},p:t,i(t){i||(K(n.$$.fragment,t),i=!0)},o(t){Q(n.$$.fragment,t),i=!1},d(t){rt(n,t)}}}return new class extends ut{constructor(t){super(),ct(this,t,null,le,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
