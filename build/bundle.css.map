{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Button.svelte",
    "PageBuilder.svelte",
    "SectionOperator.svelte",
    "FullWidthHeader.svelte"
  ],
  "sourcesContent": [
    "\n  <PageBuilder />\n\n\n<script lang=\"ts\">import PageBuilder from './components/PageBuilder.svelte';\n</script>\n\n<style type=\"text/scss\" global>@charset \"UTF-8\";\n:global(*),\n:global(*::after),\n:global(*::before) {\n  box-sizing: inherit;\n}\n\n:global(body) {\n  padding: 0;\n  box-sizing: border-box;\n  font-family: \"Helvetica Neue\", \"Helvetica\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", \"Arial\", sans-serif;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n}\n\n:global(h1), :global(h2), :global(h3), :global(h4), :global(h5), :global(h6), :global(button) {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-weight: 500;\n  line-height: 1em;\n}\n\n:global(h1) {\n  font-size: 36px;\n  margin-bottom: 28px;\n}\n\n:global(h2) {\n  font-size: 30px;\n  margin-bottom: 24px;\n}\n\n:global(h3) {\n  font-size: 24px;\n  margin-bottom: 20px;\n}\n\n:global(h4) {\n  font-size: 20px;\n  margin-bottom: 18px;\n}\n\n:global(h5) {\n  font-size: 18px;\n  margin-bottom: 16px;\n}\n\n:global(h6) {\n  font-size: 16px;\n  margin-bottom: 12px;\n}\n\n:global(p) {\n  font-size: 100%;\n  margin-top: 0;\n  margin-bottom: 12px;\n}\n\n:global(button) {\n  cursor: pointer;\n}\n\n:global(ion-icon) {\n  vertical-align: -4px;\n}\n\n:global(.full-width-container) {\n  width: 80%;\n  max-width: 1080px;\n  margin-left: auto;\n  margin-right: auto;\n}</style>\n",
    "\n  {#if link}\n    <a class=\"button\" href={link}>\n      {text}\n      <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n    </a>\n  {:else}\n    <button class=\"button\">\n      {text}\n      <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n    </button>\n  {/if}\n\n\n<script lang=\"ts\">export let text;\nexport let link;\n</script>\n\n<style lang=\"scss\">.button {\n  position: relative;\n  display: inline-block;\n  margin: 0 0.5em 0 0;\n  padding: 0.3em 1em;\n  color: inherit;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.7em;\n  white-space: nowrap;\n  text-decoration: none;\n  text-shadow: none;\n  background-color: transparent;\n  transition: all 0.2s;\n  border: 2px solid;\n  border-radius: 3px;\n  cursor: pointer;\n  outline: none;\n}\n.button ion-icon {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  opacity: 0;\n  transition: all 0.2s;\n  height: unset;\n  font-size: 120%;\n  right: 0;\n  width: 0;\n}\n.button:hover, .button:focus {\n  padding: 0.3em 1.8em 0.3em 0.7em;\n  background-color: rgba(255, 255, 255, 0.2);\n  border-color: transparent;\n}\n.button:hover ion-icon, .button:focus ion-icon {\n  opacity: 1;\n  right: 0.3em;\n  width: 1em;\n}</style>\n",
    "\n  <div class=\"page-builder\">\n    <div class=\"section-container\"\n      on:dragenter={onDragEnter}\n      on:dragleave={onDragLeave}\n      on:dragover={throttle(onDragOver, 100)}\n      on:drop={onDrop}>\n      {#each $pageConfig.sections as section (section.id)}\n        {#if section.type === 'full-width'}\n          <FullWidthSection section={section} />\n        {/if}\n      {/each}\n    </div>\n\n    <SectionOperator on:dragend={onDragEnd} on:dragstart={onDragStart} />\n  </div>\n\n\n<script lang=\"ts\">import { onMount } from 'svelte';\nimport examplePageConfig from '../examplePageConfig';\nimport { currentDragOverSection, currentDragSection, currentSection } from '../stores/currentSection';\nimport { pageConfig } from '../stores/pageConfig';\nimport SectionOperator from './SectionOperator.svelte';\nimport FullWidthSection from './FullWidthSection.svelte';\nimport { throttle } from '../utils';\npageConfig.set(examplePageConfig);\nonMount(() => {\n    document.addEventListener('dragover', e => void e.preventDefault());\n});\nfunction onDragStart(event) {\n    const index = $pageConfig.sections.findIndex(it => it === event.detail);\n    currentDragSection.set($pageConfig.sections[index]);\n    currentSection.set(null);\n    pageConfig.update(config => {\n        config.sections.splice(index, 1);\n        return config;\n    });\n}\nfunction onDragEnd(event) {\n    event.preventDefault();\n    let insertIndex = $pageConfig.sections.findIndex(it => it.id === $currentDragOverSection.section.id);\n    if (!$currentDragOverSection.isTop)\n        insertIndex += 1;\n    pageConfig.update(config => {\n        config.sections.splice(insertIndex, 0, $currentDragSection);\n        return config;\n    });\n    currentDragSection.set(null);\n}\nfunction onDragEnter(event) {\n    console.log(event);\n}\nfunction onDragOver(event) {\n    var _a, _b;\n    const sectionElement = (_a = event.target) === null || _a === void 0 ? void 0 : _a.closest('section');\n    const topThreshold = sectionElement.offsetTop + sectionElement.offsetHeight / 2;\n    const isTop = event.clientY < topThreshold;\n    const sectionId = sectionElement === null || sectionElement === void 0 ? void 0 : sectionElement.id.replace(/^section-/, '');\n    const section = (_b = $pageConfig.sections.find(it => it.id === sectionId)) !== null && _b !== void 0 ? _b : null;\n    currentDragOverSection.set({ section, isTop });\n}\nfunction onDragLeave(event) {\n    console.log(event);\n}\nfunction onDrop(event) {\n    console.log(event);\n}\n</script>\n\n<style lang=\"scss\">.page-builder {\n  position: relative;\n}</style>\n",
    "\n  <div class=\"section-operator\" style={styleToString(borderRect)}>\n    <div class=\"border\"></div>\n\n    <div class=\"section-menu\">\n      <button class=\"move\" draggable=\"true\" on:dragend={onDragEnd} on:dragstart={onDratStart}>\n        <ion-icon name=\"move-sharp\"></ion-icon>\n      </button>\n      <button class=\"settings\">\n        <ion-icon name=\"settings-sharp\"></ion-icon>\n      </button>\n      <button class=\"duplicate\" on:click={onDuplicate}>\n        <ion-icon name=\"duplicate-sharp\"></ion-icon>\n      </button>\n      <button class=\"delete\" on:click={onDelete}>\n        <ion-icon name=\"trash-sharp\"></ion-icon>\n      </button>\n    </div>\n\n    <button class=\"add-section\">\n      <ion-icon name=\"add-sharp\"></ion-icon>\n    </button>\n  </div>\n\n  <div class=\"drag-over-placeholder\"\n    style={styleToString({...dragOverRect, height: dragOverPlaceholderHeight + \"px\"})}></div>\n\n\n<script lang=\"ts\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { cloneDeep, generateId, styleToString } from 'src/utils';\nimport { createEventDispatcher } from 'svelte';\nimport { currentDragOverSection, currentDragSection, currentSection } from '../stores/currentSection';\nimport { pageConfig } from '../stores/pageConfig';\nconst dragOverPlaceholderHeight = 48;\nlet borderRect = {\n    top: '0',\n    height: '0',\n    opacity: '0',\n};\nlet dragOverRect = {\n    top: '0',\n    opacity: '0',\n};\ncurrentSection.subscribe(section => {\n    if (!section || $currentDragSection)\n        return borderRect = {};\n    dragOverRect = {};\n    const element = document.querySelector(`#section-${section.id}`);\n    borderRect = {\n        top: element.offsetTop + 'px',\n        height: element.offsetHeight + 'px',\n        opacity: element ? '1' : '0',\n    };\n});\ncurrentDragOverSection.subscribe(({ section, isTop }) => {\n    if (!section || !$currentDragSection)\n        return dragOverRect = {};\n    const element = document.querySelector(`#section-${section.id}`);\n    let offsetTop = element.offsetTop;\n    if (!isTop)\n        offsetTop += element.offsetHeight - dragOverPlaceholderHeight;\n    dragOverRect = {\n        top: offsetTop + 'px',\n        opacity: '1',\n    };\n});\nfunction onDuplicate() {\n    pageConfig.update(config => {\n        const targetIndex = config.sections.findIndex(it => it.id === ($currentSection === null || $currentSection === void 0 ? void 0 : $currentSection.id));\n        if (targetIndex === -1)\n            return config;\n        let regularSection = cloneDeep(config.sections[targetIndex]);\n        regularSection.id = generateId();\n        config.sections.splice(targetIndex, 0, regularSection);\n        return config;\n    });\n}\nfunction onDelete() {\n    pageConfig.update(config => {\n        const targetIndex = config.sections.findIndex(it => it.id === ($currentSection === null || $currentSection === void 0 ? void 0 : $currentSection.id));\n        if (targetIndex === -1)\n            return config;\n        config.sections.splice(targetIndex, 1);\n        borderRect = {};\n        return config;\n    });\n}\nconst dispatch = createEventDispatcher();\nfunction onDratStart(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let sectionElement = document.querySelector(`#section-${$currentSection === null || $currentSection === void 0 ? void 0 : $currentSection.id}`);\n        event.dataTransfer.setDragImage(sectionElement, 0, 0);\n        setTimeout(() => {\n            dispatch('dragstart', $currentSection);\n        });\n    });\n}\nfunction onDragEnd() {\n    dispatch('dragend');\n}\n</script>\n\n<style lang=\"scss\">.section-operator {\n  position: absolute;\n  right: 0;\n  left: 0;\n  opacity: 0;\n  transition: all 0.2s ease-out;\n  pointer-events: none;\n}\n.section-operator .border {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  border: 4px solid #2b87da;\n}\n.section-operator .section-menu {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  padding: 4px;\n  background-color: #2b87da;\n  pointer-events: auto;\n  border-radius: 3px;\n}\n.section-operator .section-menu button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 24px;\n  background: transparent;\n  border: none;\n}\n.section-operator .section-menu button.move {\n  cursor: move;\n}\n.section-operator .add-section {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  width: 40px;\n  height: 40px;\n  margin-bottom: -19px;\n  margin-left: -20px;\n  padding: 0;\n  color: #fff;\n  font-size: 30px;\n  background-color: #2b87da;\n  transition: all 0.2s;\n  pointer-events: auto;\n  border: none;\n  border-radius: 40px;\n}\n.section-operator .add-section:hover, .section-operator .add-section:focus {\n  transform: scale(1.2, 1.2);\n}\n\n.drag-over-placeholder {\n  position: absolute;\n  right: 0;\n  left: 0;\n  background-color: rgba(255, 255, 255, 0.2);\n  transition: all 0.2s ease;\n}</style>\n",
    "\n  <div class=\"full-width-header\" style={styleToString(module.style)}>\n    <div class=\"full-width-container\">\n      {#if module.title}\n        <h2>{module.title}</h2>\n      {/if}\n\n      {#if module.subTitle}\n        <h3>{module.subTitle}</h3>\n      {/if}\n\n      {#if module.body}\n        <div class=\"body\">{module.body}</div>\n      {/if}\n\n      {#if module.button1}\n        <Button {...module.button1} />\n      {/if}\n      {#if module.button2}\n        <Button {...module.button2} />\n      {/if}\n    </div>\n  </div>\n\n\n<script lang=\"ts\">import { styleToString } from 'src/utils';\nimport Button from '../Button.svelte';\nexport let module;\n</script>\n\n<style lang=\"scss\">.full-width-header {\n  color: #fff;\n  padding: 64px;\n}\n.full-width-header h2 {\n  margin-bottom: 16px;\n}\n.full-width-header .body {\n  margin-bottom: 24px;\n}</style>\n"
  ],
  "names": [],
  "mappings": "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"
}